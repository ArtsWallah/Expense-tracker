<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker - Smart Spending Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">üí∞</span>
                    <span class="logo-text">ExpenseHub</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">Dashboard</span>
                </a>
                <a href="#" class="nav-link" data-page="add-expense">
                    <span class="nav-icon">‚ûï</span>
                    <span class="nav-label">Add Expense</span>
                </a>
                <a href="#" class="nav-link" data-page="history">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-label">History</span>
                </a>
                <a href="#" class="nav-link" data-page="analytics">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-label">Analytics</span>
                </a>
                <a href="#" class="nav-link" data-page="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-label">Settings</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <div class="version-info">v1.0</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="app-header">
                <div class="header-left">
                    <h1 class="page-title">Dashboard</h1>
                </div>
                <div class="header-right">
                    <div class="month-navigator">
                        <button class="btn-icon" id="prevMonth" title="Previous month">
                            <span>‚ùÆ</span>
                        </button>
                        <span id="currentMonth" class="month-display">December 2025</span>
                        <button class="btn-icon" id="nextMonth" title="Next month">
                            <span>‚ùØ</span>
                        </button>
                    </div>
                    <div class="header-separator"></div>
                    <select id="currencySelect" class="currency-select">
                        <option value="USD">USD ($)</option>
                        <option value="EUR">EUR (‚Ç¨)</option>
                        <option value="GBP">GBP (¬£)</option>
                        <option value="INR">INR (‚Çπ)</option>
                        <option value="BDT">BDT (‡ß≥)</option>
                        <option value="JPY">JPY (¬•)</option>
                        <option value="AUD">AUD (A$)</option>
                        <option value="CAD">CAD (C$)</option>
                        <option value="CHF">CHF</option>
                        <option value="SGD">SGD (S$)</option>
                    </select>
                </div>
            </header>

            <!-- Pages Container -->
            <div class="pages-container">
                <!-- Dashboard Page -->
                <section id="dashboard" class="page active">
                    <!-- Summary Cards -->
                    <div class="summary-cards">
                        <div class="summary-card card-primary">
                            <div class="card-content">
                                <span class="card-label">This Month</span>
                                <span class="card-value" id="monthSpent">$0.00</span>
                            </div>
                            <div class="card-icon">üìÖ</div>
                        </div>
                        <div class="summary-card card-secondary">
                            <div class="card-content">
                                <span class="card-label">This Week</span>
                                <span class="card-value" id="weekSpent">$0.00</span>
                            </div>
                            <div class="card-icon">üìÜ</div>
                        </div>
                        <div class="summary-card card-accent">
                            <div class="card-content">
                                <span class="card-label">Today</span>
                                <span class="card-value" id="todaySpent">$0.00</span>
                            </div>
                            <div class="card-icon">üìç</div>
                        </div>
                        <div class="summary-card card-info">
                            <div class="card-content">
                                <span class="card-label">Total Spent</span>
                                <span class="card-value" id="totalSpent">$0.00</span>
                            </div>
                            <div class="card-icon">üí∏</div>
                        </div>
                    </div>

                    <!-- Budget Overview -->
                    <div class="section-title">Monthly Budget Overview</div>
                    <div class="budget-overview">
                        <div class="budget-bar-container">
                            <div class="budget-bar-header">
                                <span id="budgetLabel">Monthly Budget</span>
                                <span id="budgetInfo">$0 / $0</span>
                            </div>
                            <div class="budget-bar">
                                <div class="budget-bar-progress" id="budgetProgress" style="width: 0%"></div>
                            </div>
                            <div class="budget-bar-footer">
                                <span id="budgetPercentage">0%</span>
                                <span id="budgetRemaining" class="status-success">$0 remaining</span>
                            </div>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="charts-section">
                        <div class="chart-card">
                            <h3 class="chart-title">Daily Spending Trend</h3>
                            <div class="chart-container">
                                <canvas id="dailyChart"></canvas>
                                <div class="empty-state" id="dailyChartEmpty" style="display: none;">
                                    <div class="empty-state-icon">üì≠</div>
                                    <p>No expense data for this period</p>
                                </div>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h3 class="chart-title">Spending by Category</h3>
                            <div class="chart-container">
                                <canvas id="categoryChart"></canvas>
                                <div class="empty-state" id="categoryChartEmpty" style="display: none;">
                                    <div class="empty-state-icon">üì≠</div>
                                    <p>No expenses yet</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="quick-stats">
                        <div class="stat-item">
                            <span class="stat-label">Total Expenses</span>
                            <span class="stat-value" id="expenseCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Highest Expense</span>
                            <span class="stat-value" id="highestExpense">$0.00</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Average Expense</span>
                            <span class="stat-value" id="averageExpense">$0.00</span>
                        </div>
                    </div>
                </section>

                <!-- Add Expense Page -->
                <section id="add-expense" class="page">
                    <div class="form-card">
                        <h2 class="form-title">Add New Expense</h2>
                        <form id="expenseForm" class="expense-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="expenseDate">Date *</label>
                                    <input type="date" id="expenseDate" required>
                                    <span class="error-message" id="dateError"></span>
                                </div>
                                <div class="form-group">
                                    <label for="expenseCategory">Category *</label>
                                    <select id="expenseCategory" required>
                                        <option value="">Select a category</option>
                                        <option value="Food">üçî Food</option>
                                        <option value="Transportation">üöó Transportation</option>
                                        <option value="Entertainment">üé¨ Entertainment</option>
                                        <option value="Shopping">üõçÔ∏è Shopping</option>
                                        <option value="Utilities">‚ö° Utilities</option>
                                        <option value="Healthcare">üè• Healthcare</option>
                                        <option value="Others">üì¶ Others</option>
                                    </select>
                                    <span class="error-message" id="categoryError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="paymentMethod">Payment Method *</label>
                                    <select id="paymentMethod" required>
                                        <option value="">Select payment method</option>
                                        <option value="Cash">üíµ Cash</option>
                                        <option value="UPI">üì± UPI</option>
                                        <option value="Card">üí≥ Card</option>
                                        <option value="Bank Transfer">üè¶ Bank Transfer</option>
                                    </select>
                                    <span class="error-message" id="paymentError"></span>
                                </div>
                                <div class="form-group">
                                    <label for="walletSelect">Wallet</label>
                                    <select id="walletSelect">
                                        <option value="">Select wallet</option>
                                        <option value="Cash">üíµ Cash</option>
                                        <option value="Bank">üè¶ Bank</option>
                                        <option value="Paytm">üì± Paytm</option>
                                        <option value="Credit Card">üí≥ Credit Card</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="expenseDescription">Description *</label>
                                    <input type="text" id="expenseDescription" placeholder="e.g., Lunch with friends" required>
                                    <span class="error-message" id="descriptionError"></span>
                                </div>
                                <div class="form-group">
                                    <label for="expenseAmount">Amount *</label>
                                    <div class="input-with-currency">
                                        <span class="currency-symbol" id="amountCurrencySymbol">$</span>
                                        <input type="number" id="expenseAmount" placeholder="0.00" step="0.01" min="0" required>
                                    </div>
                                    <span class="error-message" id="amountError"></span>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="receiptUpload">Receipt (Optional)</label>
                                    <input type="file" id="receiptUpload" accept="image/*,.pdf">
                                    <small>Upload a receipt image or PDF</small>
                                    <span class="error-message" id="receiptError"></span>
                                </div>
                                <div class="form-group">
                                    <label for="expenseNotes">Notes (Optional)</label>
                                    <textarea id="expenseNotes" placeholder="Add any additional notes..."></textarea>
                                </div>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Add Expense</button>
                                <button type="reset" class="btn btn-secondary">Clear Form</button>
                            </div>
                            <div class="form-message" id="formMessage"></div>
                        </form>
                    </div>
                </section>

                <!-- History Page -->
                <section id="history" class="page">
                    <div class="history-header">
                        <h2>Expense History</h2>
                        <div class="history-controls">
                            <input type="text" id="searchExpenses" class="search-input" placeholder="Search descriptions...">
                            <select id="filterCategory" class="filter-select">
                                <option value="">All Categories</option>
                                <option value="Food">üçî Food</option>
                                <option value="Transportation">üöó Transportation</option>
                                <option value="Entertainment">üé¨ Entertainment</option>
                                <option value="Shopping">üõçÔ∏è Shopping</option>
                                <option value="Utilities">‚ö° Utilities</option>
                                <option value="Healthcare">üè• Healthcare</option>
                                <option value="Others">üì¶ Others</option>
                            </select>
                            <div class="button-group">
                                <button class="btn btn-sm btn-secondary" id="exportCsv">üì• CSV</button>
                                <button class="btn btn-sm btn-secondary" id="exportPdf">üìÑ PDF</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-responsive">
                        <table class="expenses-table">
                            <thead>
                                <tr>
                                    <th class="sortable" data-sort="date">Date <span class="sort-indicator">‚áÖ</span></th>
                                    <th class="sortable" data-sort="category">Category <span class="sort-indicator">‚áÖ</span></th>
                                    <th>Description</th>
                                    <th>Payment Method</th>
                                    <th class="sortable" data-sort="amount">Amount <span class="sort-indicator">‚áÖ</span></th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="expensesList">
                                <tr class="empty-row">
                                    <td colspan="6" class="empty-state-cell">
                                        <div class="empty-state">
                                            <div class="empty-state-icon">üì≠</div>
                                            <p>No expenses yet. <a href="#" class="link-primary" onclick="changePage('add-expense')">Add your first expense</a></p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Analytics Page -->
                <section id="analytics" class="page">
                    <h2>Budget Analytics</h2>
                    <div class="analytics-grid" id="analyticsGrid">
                        <!-- Budget cards will be populated here -->
                    </div>
                    <div class="empty-state" id="analyticsEmpty" style="display: none;">
                        <div class="empty-state-icon">üìä</div>
                        <p>No expense data yet. Add expenses to see analytics.</p>
                    </div>
                </section>

                <!-- Settings Page -->
                <section id="settings" class="page">
                    <div class="settings-container">
                        <div class="settings-section">
                            <h3 class="settings-title">Wallets</h3>
                            <div class="wallets-list" id="walletsList">
                                <!-- Wallets will be populated here -->
                            </div>
                        </div>
                        <div class="settings-divider"></div>
                        <div class="settings-section">
                            <h3 class="settings-title">Category Budgets</h3>
                            <div class="budgets-list" id="budgetsList">
                                <!-- Budget inputs will be populated here -->
                            </div>
                            <button class="btn btn-primary" id="saveBudgetsBtn">Save Budgets</button>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
